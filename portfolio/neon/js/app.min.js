/* Frontend by exzolink
exzolink.github.io */
function e(e){e.preventDefault();var t=new XMLHttpRequest;t.onreadystatechange=function(){if(console.log("readyState=",this.readyState,"statis=",this.status),this.readyState===XMLHttpRequest.DONE&&200===this.status){var e=this.getAttribute("data-success-popup");document.querySelector("#"+e).classList.add("active")}},t.open(this.method,this.action,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var o=new FormData(this);for(var r of o.keys())console.log(r,o.get(r));t.send(o)}Spruce.store("modalRegister",{open:"false"}),Spruce.store("modalPacketDay",{open:"false"}),Spruce.store("modalPacketNight",{open:"false"}),Spruce.store("modalCoop",{open:"false"}),Spruce.store("modalVac",{open:"false"}),Spruce.store("modalOrder",{open:"false"}),Spruce.store("modalOrderTab",{tab:"tuf"}),Spruce.store("modalPrivacy",{open:"false"}),photos=new Swiper(".zones__gallery_container",{slidesPerView:4,spaceBetween:6,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1},360:{slidesPerView:2},900:{slidesPerView:3},1100:{slidesPerView:4,allowTouchMove:!1,simulateTouch:!1}}}),games=new Swiper(".games__container",{slidesPerView:4,spaceBetween:12,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1},355:{slidesPerView:2},850:{slidesPerView:3,spaceBetween:24},1100:{slidesPerView:4,spaceBetween:30,allowTouchMove:!1,simulateTouch:!1,slidesPerColumnFill:"row",slidesPerColumn:2}}}),workers=new Swiper(".team__container",{slidesPerView:4,spaceBetween:24,grabCursor:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1},360:{slidesPerView:2,spaceBetween:16},600:{slidesPerView:3,spaceBetween:20},880:{slidesPerView:4,spaceBetween:24}}}),blog=new Swiper(".blog__container",{slidesPerView:1,spaceBetween:12,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),document.addEventListener("DOMContentLoaded",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),window.innerWidth<800&&window.addEventListener("resize",()=>{var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")});var t=(e,t=500)=>"none"===window.getComputedStyle(e).display?((e,t=500)=>{e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="flex"),e.style.display=o;var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)})(e,t):((e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)})(e,t);games.on("slideChange",(function(){games.update()}));var o,r,n,s,l=!1;if(null!==document.getElementById("map")){var i=(o=function(){var e=document.getElementById("map").offsetTop;if(1.8*pageYOffset>e&&!1===l){mapboxgl.accessToken="pk.eyJ1IjoiZ3JlZ29yeTEyMCIsImEiOiJja2N2NW1ld2UwMTMzMnFtc2ZoeWpiZHM3In0.97pEt9J1fujCDbmt-84mrw";var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/dark-v10",center:[76.937,43.243264],zoom:17});(new mapboxgl.Marker).setLngLat([76.936931,43.2429]).addTo(t),l=!0}},r=300,function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout((function(){s=null,n||o.apply(e,t)}),r),n&&!s&&o.apply(e,t)});window.addEventListener("scroll",i)}if(null!==document.getElementById("mapContacts")){mapboxgl.accessToken="pk.eyJ1IjoiZ3JlZ29yeTEyMCIsImEiOiJja2N2NW1ld2UwMTMzMnFtc2ZoeWpiZHM3In0.97pEt9J1fujCDbmt-84mrw";var a=new mapboxgl.Map({container:"mapContacts",style:"mapbox://styles/mapbox/dark-v10",center:[76.937,43.243264],zoom:17});(new mapboxgl.Marker).setLngLat([76.936931,43.2429]).addTo(a)}if(null!==document.getElementById("fadeToggle"))new Typed("#fadeToggle",{strings:["Power On","Game On","Party On"],typeSpeed:90,fadeOut:!0,startDelay:1e3,backSpeed:500,backDelay:1e3,loop:!0});if(null!==document.getElementById("parallax")){function p(){var e=document.getElementById("parallax"),t=window.pageYOffset/e.dataset.speed,o="50% "+(t=-t)+"px";e.style.backgroundPosition=o}window.addEventListener("scroll",(function(){window.pageYOffset<650&&p()})),p()}var c=document.querySelectorAll(".vac__spoiler_button");[].forEach.call(c,(function(e){e.addEventListener("click",(function(e){var o=this.closest(".vac__spoiler").querySelector(".vac__spoiler_content"),r=this.querySelector(".vac__spoiler_arrow");t(o,350),r.classList.toggle("active")}))}));for(var d=document.querySelectorAll(".js-time-picker"),u=0;u<d.length;u++)new Picker(d[u],{format:"HH:mm",headers:!1,controls:!0});var m=document.querySelectorAll(".popupOrder__next");[].forEach.call(m,(function(e){e.addEventListener("click",(function(e){var t=this.closest(".popupOrder__zone_inner").querySelector(".startTime").value,o=this.closest(".popupOrder__zone_inner").querySelector(".endTime").value,r=this.closest(".popupOrder__zone_inner").querySelectorAll(".popupOrder__places_item.active").length;this.closest(".popupOrder__zone_inner").querySelector(".selectedTime").value=t+" - "+o,this.closest(".popupOrder__zone_inner").querySelector(".selectedPlaces").value=r}))}));var y=document.querySelectorAll(".popupOrder__places_item:not(.busy)");[].forEach.call(y,(function(e){e.addEventListener("click",(function(e){this.classList.toggle("active")}))}));var v=document.querySelectorAll(".popupOrder__ps4_time-item:not(.busy)");[].forEach.call(v,(function(e){e.addEventListener("click",(function(e){this.classList.toggle("active")}))}));var g=document.querySelectorAll(".popupOrder__ps4_next"),w=document.querySelectorAll(".popupOrder__ps4_prev");[].forEach.call(g,(function(e){e.addEventListener("click",(function(e){for(var t=this.closest(".popupOrder__zone_inner").querySelectorAll(".popupOrder__ps4_time-item.active"),o=this.closest(".popupOrder__zone_inner").querySelector(".selectedTimes"),r=0;r<t.length;r++)o.value+=t[r].innerHTML+"\n";window.innerWidth>1200?t.length>0?o.style.height=27*t.length+"px":o.style.height="27px":t.length>0?o.style.height=19*t.length+"px":o.style.height="19px"}))})),[].forEach.call(w,(function(e){e.addEventListener("click",(function(e){this.closest(".popupOrder__zone_inner").querySelector(".selectedTimes").value=""}))}));var h=document.querySelectorAll("#startMinus, #endMinus"),f=document.querySelectorAll("#startPlus, #endPlus");[].forEach.call(h,(function(e){e.addEventListener("click",(function(e){var t=this.closest(".popupOrder__zone_time-select").querySelector("input"),o=t.value.split(":");o[0]>=10&&o[0]<=23&&(t.value=o[0]-1+":"+o[1]),"00"!==o[0]&&o[0]<=10&&(t.value="0"+(o[0]-1)+":"+o[1]),"00"===o[0]&&(t.value="23:"+o[1])}))})),[].forEach.call(f,(function(e){e.addEventListener("click",(function(e){var t=this.closest(".popupOrder__zone_time-select").querySelector("input"),o=t.value.split(":");o[0]>=10&&o[0]<23&&(t.value=+o[0]+1+":"+o[1]),"00"!==o[0]&&o[0]<10&&(t.value="0"+(+o[0]+1)+":"+o[1]),"00"===o[0]&&(t.value="0"+(+o[0]+1)+":"+o[1]),"09"===o[0]&&(t.value="10:"+o[1]),"23"===o[0]&&(t.value="00:"+o[1])}))}))})),document.querySelectorAll("form").forEach(t=>t.addEventListener("submit",e));